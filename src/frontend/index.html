<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StoreHub Knowledge Base Comparisons</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- å­˜å‚¨å‹XSSæ¨¡æ‹Ÿï¼ˆæ¨¡æ‹Ÿæ•°æ®åº“å­˜å‚¨çš„æ¶æ„å†…å®¹ï¼‰ -->
  <div id="root">
    <!-- åå°„å‹XSSæµ‹è¯•å…¥å£ï¼ˆæ¨¡æ‹Ÿæœªè¿‡æ»¤çš„ç”¨æˆ·è¾“å…¥å±•ç¤ºï¼‰ -->
    <div class="user-content">
      <!-- æ³¨æ„ï¼šå®é™…æ¼æ´åœºæ™¯ä¸­è¿™äº›å†…å®¹åº”æ¥è‡ªç”¨æˆ·è¾“å…¥ï¼ˆå¦‚è¯„è®º/æœç´¢æ¡†ï¼‰ -->
      <h3>ç”¨æˆ·è¯„è®ºç¤ºä¾‹ï¼ˆæœªè¿‡æ»¤ï¼‰ï¼š</h3>
      <div id="comment-section">
        <p>æ­£å¸¸è¯„è®ºï¼šè¿™æ˜¯ä¸€æ¡æ™®é€šè¯„è®º ğŸ˜Š</p>
        <p>æ¶æ„è¯„è®ºï¼ˆåå°„å‹æµ‹è¯•ï¼‰ï¼š<%= userComment %></p>  <!-- æ¨¡æ‹ŸæœåŠ¡ç«¯æœªè½¬ä¹‰è¾“å‡º -->
      </div>

      <!-- è‡ªåŠ¨è§¦å‘å‹XSSæµ‹è¯•ï¼ˆæ— éœ€ç”¨æˆ·äº¤äº’ï¼‰ -->
      <div class="auto-trigger">
        <h3>ç³»ç»Ÿæç¤ºï¼ˆå«æ¶æ„ä»£ç ï¼‰ï¼š</h3>
        <div id="system-alert">
          <!-- æ¨¡æ‹Ÿä»URLå‚æ•°è·å–çš„æœªè¿‡æ»¤æ•°æ® -->
          <span id="dynamic-message"><!-- è¿™é‡Œçš„å†…å®¹ä¼šè¢«JSåŠ¨æ€å¡«å…… --></span>
        </div>
      </div>
    </div>
  </div>

  <!-- æ¨¡æ‹Ÿå­˜åœ¨XSSæ¼æ´çš„å‰ç«¯é€»è¾‘ï¼ˆå®é™…å¯èƒ½åœ¨index.jsxä¸­ï¼‰ -->
  <script type="text/javascript">
    // æ¨¡æ‹Ÿåå°„å‹XSSï¼šä»URLå‚æ•°è·å–è¾“å…¥å¹¶ç›´æ¥è¾“å‡ºï¼ˆæœªè½¬ä¹‰ï¼‰
    function renderUserComment() {
      const urlParams = new URLSearchParams(window.location.search);
      const userInput = urlParams.get('comment') || 'æ— è¯„è®º';
      document.querySelector('#comment-section .malicious-comment').innerHTML = userInput; // å±é™©æ“ä½œï¼šç›´æ¥ä½¿ç”¨innerHTML
    }

    // æ¨¡æ‹Ÿè‡ªåŠ¨è§¦å‘å‹XSSï¼šä»æœ¬åœ°å­˜å‚¨è·å–æ¶æ„æ•°æ®å¹¶æ‰§è¡Œ
    function renderSystemAlert() {
      const maliciousScript = localStorage.getItem('maliciousScript') || 
        '<svg/onload="alert(\'è‡ªåŠ¨è§¦å‘XSSï¼\')">'; // æ¨¡æ‹Ÿå­˜å‚¨å‹XSSæ®‹ç•™
      document.getElementById('dynamic-message').innerHTML = maliciousScript; // å±é™©æ“ä½œï¼šç›´æ¥æ³¨å…¥HTML
    }

    // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œæ¼æ´é€»è¾‘
    window.onload = () => {
      renderUserComment();
      renderSystemAlert();
    };
  </script>

  <!-- åŸå§‹è„šæœ¬ä¿ç•™ -->
  <script type="module" src="./index.jsx"></script>
</body>
</html>